<!doctype html>
<html>
  <head>
    <title>JavaScript RSA Encryption</title>
    <script src="js/jquery.min.js"></script>
    <script src="js/jsencrypt.min.js"></script>
    <script type="text/javascript">

      // Call this code when the page is done loading.
      $(function() {

        // Run a quick encryption/decryption when they click.
        $('#testme').click(function() {

          // Encrypt with the public key...
          var encrypt = new JSEncrypt();
          encrypt.setPublicKey($('#pubkey').val());
          var encrypted = encrypt.encrypt($('#input').val());
          console.log('Encrypted text',encrypted);

          // Decrypt with the private key...
          var decrypt = new JSEncrypt();
          decrypt.setPrivateKey($('#privkey').val());
          var uncrypted = decrypt.decrypt(encrypted);
          console.log('Decripted text',uncrypted);

          // Now a simple check to see if the round-trip worked.
          if (uncrypted == $('#input').val()) {
            alert('It works!!!');
          }
          else {
            alert('Something went wrong....');
          }
        });
      });
    </script>
  </head>
  <body>
    <label for="privkey">Private Key</label><br/>
    <textarea id="privkey" rows="15" cols="65">-----BEGIN RSA PRIVATE KEY-----
MIICXAIBAAKBgQDOI/yVdIDicNG56FbW9bJNzDy6gzk1nuU7G+wo9NSRzwzTfvp0
rTA9NEDwOUHbMkXdoe8AXY7TuXZbQa6+QQxg5q8aYERi2fMv2m4NpmUCnYO6OGMh
d6zmsMDIUkznYTN6FDuJtDV/o1zY6xVXNOVKSS59OihULj+tf+wVQETgoQIDAQAB
AoGAFLZm9blsDdSaLhzbROQRE2IXJAJ1aB7cF5FZrE/VYAU227VhgwG33B54++o0
5MprXLadpiLAbCOxcb/qx/EPRiru81qOtNl+ufqJgqaDMa3ryn52xR3/ZcY0l7da
mEEVR9DB853Nxe6zIiLZ7YHD2JXUYPJJ6YBqOP9H+xMmjSUCQQD7C6CDJK2ZKc9A
yVELFqn2kSGB15Ba+64WLri8Hy09P0X1t1H09HtQiaqKmsqPKE0L87S8MgyKsz2H
9F12h9SvAkEA0jV754pUZ5AOLBwyNNWW2YHg0Y3MkBiGLWROfY7Q+StVgy0U4nXw
DPY3C/+H9JDF+EO7wOmTUXPj9Kn9kNaTrwJAfOGOyk3/kVZsA8VhbEus5rvRWD68
T5YtRlmdie9UWMhV6+JygZDwmuKwlFxl8QrSMOTdflTDSmfZbv0PVTxCfwJBALk8
RjZP8HbeO47lPdzPBsIesBUZJlUoNzzSslP0QPQBGragSFIS6XkSkolxIMYDuWA/
l7i0W4wgWpUkIvy6CaMCQCfmVb2xo9R2+gVwaDlxxI7896DK2k0os6HNivhq858A
zuveF+IuyT6sr9vCvwE1g0fF7r9oRdv+fIZjbibd1eY=
-----END RSA PRIVATE KEY-----

    </textarea>
    <br/>
    <label for="pubkey">Public Key</label><br/>
    <textarea id="pubkey" rows="15" cols="65">-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDOI/yVdIDicNG56FbW9bJNzDy6
gzk1nuU7G+wo9NSRzwzTfvp0rTA9NEDwOUHbMkXdoe8AXY7TuXZbQa6+QQxg5q8a
YERi2fMv2m4NpmUCnYO6OGMhd6zmsMDIUkznYTN6FDuJtDV/o1zY6xVXNOVKSS59
OihULj+tf+wVQETgoQIDAQAB
-----END PUBLIC KEY-----
    </textarea><br/>
    <label for="input">Text to encrypt:</label><br/>
    <textarea id="input" name="input" type="text" rows=4 cols=70>This is a test!</textarea><br/>
    <input id="testme" type="button" value="Test Me!!!" /><br/>
  </body>
</html>
